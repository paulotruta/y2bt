<template name="playlist">
  <div class="container">
    <div class="card">
      <div class="card-image waves-effect waves-block waves-light" style="height: 200px; overflow: hidden;">
        <img class="activator" src="{{playlistPicture}}" style="min-width: 100%;">
      </div>
      <div class="card-content">
        <span class="card-title activator grey-text text-darken-4">{{playlistTitle}}<i class="material-icons right">more_vert</i></span>
        <p><a href="#">{{musicCount}} tracks</a></p>
      </div>
      <div class="card-reveal">
        <span class="card-title grey-text text-darken-4">{{playlistTitle}}<i class="material-icons right">close</i></span>
        <p>{{playlistDescription}}</p>
      </div>
    </div>

    {{#if hasMusic}}
      <ul class="collection">
        {{#each musicList}}
          <li id="{{#if isPlaying location}}playingTrack{{/if}}" class="collection-item {{_id}} avatar {{#if isPlaying location}} active{{/if}}" data-src="{{location}}">
            <div class="{{#if isPlaying location}}applink-pauseMusic{{else}}applink-playMusic{{/if}}" style="margin-right: 90px;">
              <div style="display:none" class="id">{{_id}}</div>
              <img src="{{thumbnail}}" alt="" class="circle">
              <span class="title">{{title}}</span>
              <p><div class="artist">{{{artist}}}</div>
                 {{readableTime length}}
              </p>
            </div>
            {{#if isPlaying location}}<div class="secondary-content"><i class="material-icons applink-pauseMusic cursor-pointer" style="color: white;">pause</i></div><a href="{{location}}" download="{{artist}} - {{title}}.mp3" class="secondary-content tooltipped" data-position="bottom" data-delay="50" data-tooltip="Download" style="right: 60px;"><i class="material-icons applink-downloadMusic" style="color: white;">cloud_download</i></a>{{else}}<div class="secondary-content"><i class="material-icons applink-queueMusic cursor-pointer" style="color: #31354E;">queue</i></div>{{/if}}
          </li>
        {{/each}}
      </ul>
    {{else}}
      <div class="center">
        <i class="large material-icons" style="margin-top:25px;">library_music</i>
        <p style="margin-top: 25px;">There is no music in the library! Add a song to see it here.</p>
      </div>
    {{/if}}
  </div>
</template>